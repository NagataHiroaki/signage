{"version":3,"sources":["webpack:///webpack/bootstrap 8951407c5efe187a2d77","webpack:///./src/js/main.js"],"names":["Area","space","gap","itemHeight","onResize","$","window","on","width","innerWidth","height","innerHeight","column","Math","floor","row","images","length","endPos","startPos","Timer","timer","count","ismoved","play","update","requestAnimationFrame","cancelAnimationFrame","start","performance","now","Images","i","push","Img","init","current","console","log","top","area","bottom","right","left","akira","tetsuo","setPos","num","index","path","elm","addClass","css","appendTo","col","speed","istouched","delay","class","onMouseLeave","onMouseEnter","onClick","stop","takashi","modal","isOpen","setImage","open","cls","removeClass","x","y","moveTo","rollback","Modal","$target","$modal","$overlay","close","Main"],"mappings":"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","file":"dist/common/js/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 8951407c5efe187a2d77","class Area {\r\n    constructor() {\r\n        // this.width = window.innerWidth;\r\n        // this.height = window.innerHeight;\r\n        this.space = 250;\r\n        this.gap = 15;\r\n        this.itemHeight = this.space + this.gap;\r\n\r\n        // this.column = Math.floor(this.width / (this.space + 15));\r\n        // this.endPos = -(this.itemHeight);\r\n        // this.startPos = this.column * this.itemHeight;\r\n    }\r\n\r\n    init() {\r\n        // console.log(this.column);\r\n        this.onResize();\r\n\r\n        $(window).on('resize', () => this.onResize());\r\n    }\r\n\r\n    onResize() {\r\n        this.width = window.innerWidth;\r\n        this.height = window.innerHeight;\r\n        this.column = Math.floor(this.width / (this.space + 15));\r\n        this.row =  Math.floor(images.length / this.column);\r\n        this.endPos = -(this.itemHeight);\r\n        this.startPos = this.column * this.itemHeight;\r\n\r\n        images.onResize();\r\n    }\r\n\r\n}\r\n\r\nclass Timer {\r\n    constructor() {\r\n        this.timer;\r\n        this.count = 0;\r\n        this.ismoved = false;\r\n    }\r\n\r\n    init() {\r\n        this.play();\r\n    }\r\n    update() {\r\n        // console.log(performance.now());\r\n        this.count++;\r\n        // if(this.count === 1) {\r\n        // this.count = 0;\r\n        images.update();\r\n        // }\r\n\r\n\r\n        this.timer = requestAnimationFrame(() => this.update());\r\n\r\n        if (this.count === 60) {\r\n            this.count = 0;\r\n        }\r\n    }\r\n    stop() {\r\n        cancelAnimationFrame(this.timer);\r\n        this.ismoved = false;\r\n    }\r\n    play() {\r\n        if (this.ismoved) return;\r\n        this.start = performance.now();\r\n        this.update();\r\n        this.ismoved = true;\r\n    }\r\n}\r\n\r\nclass Images {\r\n    constructor() {\r\n        this.images = [];\r\n        this.length = 50;\r\n        for (let i = 0; i < this.length; i++) {\r\n            // this.images.push(\r\n            //     {'src':'img/img ('+i+').jpg'}\r\n            // );\r\n            this.images.push(\r\n                new Img(i)\r\n            );\r\n        }\r\n    }\r\n\r\n    init() {\r\n        for (let i = 0; i < this.length; i++) {\r\n            this.images[i].init();\r\n        }\r\n    }\r\n\r\n    update() {\r\n        for (let i = 0; i < this.length; i++) {\r\n            this.images[i].update();\r\n        }\r\n    }\r\n\r\n    takashi(current,column,row) {\r\n        console.log(row)\r\n        const top = (row === 0) ? area.row:current - area.column;\r\n        const bottom = (row +1 === area.row) ? 0: current + area.column;\r\n        const right = (column+1 === area.column) ? 0 : current + 1;\r\n        const left = (column === 0) ? false : current - 1;\r\n\r\n        this.images[top].akira('top');\r\n        this.images[bottom].akira('bottom');\r\n        this.images[right].akira('right');\r\n        if(left) this.images[left].akira('left');\r\n    }\r\n\r\n    tetsuo() {\r\n        for (let i = 0; i < this.length; i++) {\r\n            this.images[i].tetsuo();\r\n        }\r\n    }\r\n    onResize() {\r\n        for (let i = 0; i < this.length; i++) {\r\n            this.images[i].setPos();\r\n        }\r\n    }\r\n}\r\n\r\nclass Img {\r\n    constructor(num) {\r\n        this.index = num;\r\n        this.path = 'url(\"/img/img (' + num + ').jpg\")';\r\n        this.elm = $('<span>')\r\n            .addClass('image')\r\n            .css({\r\n                'background-image': this.path,\r\n                'width': \"250px\",\r\n                'height': \"250px\",\r\n                'display': 'block'\r\n            }).appendTo('#js-area');\r\n        this.top;\r\n        this.left;\r\n        this.col;\r\n        this.row;\r\n        this.speed = 3;\r\n        this.istouched = false;\r\n        this.delay;\r\n        this.class;\r\n    }\r\n\r\n    init() {\r\n        this.setPos();\r\n        this.elm.on('mouseleave', () => this.onMouseLeave());\r\n        this.elm.on('mouseenter', () => this.onMouseEnter());\r\n\r\n        this.elm.on('click', () => this.onClick());\r\n    }\r\n\r\n    // checkTouch() {\r\n    //     console.log(this.istouched);\r\n    //     if (!this.istouched) timer.play();\r\n    // }\r\n\r\n    onMouseEnter() {\r\n        // console.log('enter');\r\n        // this.istouched = true;\r\n        timer.stop();\r\n        // clearTimeout(this.delay);\r\n\r\n        images.takashi(this.index,this.col,this.row);\r\n    }\r\n\r\n    onMouseLeave() {\r\n        console.log('leave');\r\n        // this.istouched = false;\r\n        // setTimeout(this.checkTouch.bind(this), 1000);\r\n        \r\n        if(!modal.isOpen) {\r\n            images.tetsuo(this.index,this.column);\r\n            timer.play();\r\n        }\r\n    }\r\n\r\n    // play() {\r\n    //     timer.play();\r\n    // }\r\n\r\n    onClick() {\r\n        this.istouched = true;\r\n        // clearTimeout(this.delay);\r\n        modal.setImage(this.path);\r\n        modal.open();\r\n    }\r\n\r\n    akira(cls) {\r\n        this.elm.removeClass(this.class);\r\n        this.class = cls;\r\n        this.elm.addClass(this.class);\r\n    }\r\n\r\n    tetsuo() {\r\n        this.elm.removeClass('top left right bottom');\r\n    }\r\n\r\n    moveTo(x = this.left, y = this.top) {\r\n        this.elm.css({\r\n            'transform': 'translate3d(' + x + 'px,' + y + 'px,0)'\r\n        });\r\n    }\r\n\r\n    update() {\r\n        this.top -= this.speed;\r\n        this.moveTo();\r\n\r\n        if (this.top < area.endPos) this.rollback();\r\n    }\r\n\r\n    rollback() {\r\n        this.top = area.startPos;\r\n        this.moveTo();\r\n    }\r\n\r\n    setPos() {\r\n        this.col = this.index % area.column;\r\n        this.row = Math.floor(this.index / area.column);\r\n        this.left = (area.space + area.gap) * this.col;\r\n        this.top = (area.space + area.gap) * this.row;\r\n        this.moveTo();\r\n    }\r\n}\r\n\r\nclass Modal {\r\n    constructor() {\r\n        this.$target = $('#js-modal>span');\r\n        this.$modal = $('#js-modal');\r\n        this.$overlay = $('#js-overlay');\r\n        this.isOpen = false;\r\n    }\r\n\r\n    init() {\r\n        this.$overlay.on('click', () => this.close());\r\n    }\r\n\r\n    setImage(path) {\r\n        this.$target.css('background-image', path)\r\n    }\r\n\r\n    open() {\r\n        timer.stop();\r\n        this.$modal.addClass('active');\r\n        this.$overlay.addClass('active');\r\n        this.isOpen = true;\r\n    }\r\n    close() {\r\n        timer.play();\r\n        this.$modal.removeClass('active');\r\n        this.$overlay.removeClass('active');\r\n        this.isOpen = false;\r\n    }\r\n}\r\n\r\n\r\nclass Main {\r\n    constructor() {\r\n        area.init();\r\n        images.init();\r\n        modal.init();\r\n\r\n    }\r\n}\r\nconst area = new Area();\r\nconst images = new Images();\r\nconst timer = new Timer();\r\nconst modal = new Modal();\r\ntimer.play();\r\n\r\nnew Main();\n\n\n// WEBPACK FOOTER //\n// ./src/js/main.js"],"sourceRoot":""}